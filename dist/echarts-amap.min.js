!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],t):"object"==typeof exports?exports.amap=t(require("echarts")):(e.echarts=e.echarts||{},e.echarts.amap=t(e.echarts))}(this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t,o){t.exports=e},function(e,t,o){function n(e,t){this._amap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=t}var a=o(0);n.prototype.dimensions=["lng","lat"],n.prototype.setZoom=function(e){this._zoom=e},n.prototype.setCenter=function(e){this._center=this._amap.lnglatToPixel(e)},n.prototype.setMapOffset=function(e){this._mapOffset=e},n.prototype.getAMap=function(){return this._amap},n.prototype.dataToPoint=function(e){var t=new AMap.LngLat(e[0],e[1]),o=this._amap.lngLatToContainer(t),n=this._mapOffset;return[o.x-n[0],o.y-n[1]]},n.prototype.pointToData=function(e){var t=this._mapOffset,e=this._amap.containerToLngLat({x:e[0]+t[0],y:e[1]+t[1]});return[e.lng,e.lat]},n.prototype.getViewRect=function(){var e=this._api;return new a.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())},n.prototype.getRoamTransform=function(){return a.matrix.create()};n.dimensions=n.prototype.dimensions,n.create=function(e,t){var o,a=t.getDom();e.eachComponent("amap",function(e){var r=t.getZr().painter.getViewportRoot();if("undefined"==typeof AMap)throw new Error("AMap api is not loaded");if(o)throw new Error("Only one amap component can exist");if(!e.__amap){var i=a.querySelector(".ec-extension-amap");i&&(r.style.left="0px",r.style.top="0px",a.removeChild(i)),i=document.createElement("div"),i.style.cssText="width:100%;height:100%",i.classList.add("ec-extension-amap"),a.appendChild(i);var p=e.get()||{},s=e.__amap=new AMap.Map(i,p),c=e.__layer=new AMap.CustomLayer(r);c.setMap(s)}var s=e.getAMap(),c=e.getLayer();c.hide();var f=s.getZoom(),m=s.getCenter();o=new n(s,t),o.setMapOffset(e.__mapOffset||[0,0]),o.setZoom(f),o.setCenter([m.lng,m.lat]),e.coordinateSystem=o,c.show()}),e.eachSeries(function(e){"amap"===e.get("coordinateSystem")&&(e.coordinateSystem=o)})},e.exports=n},function(e,t,o){function n(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}e.exports=o(0).extendComponentModel({type:"amap",getAMap:function(){return this.__amap},getLayer:function(){return this.__layer},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,t){var o=this.option;return!(n(e,o.center)&&t===o.zoom)},defaultOption:{center:[116.397475,39.908695],zoom:4}})},function(e,t,o){function n(e,t,o){var n,a,r,i;return i=function(){n=!1,a&&(r.apply(o,a),a=!1)},r=function(){n?a=arguments:(e.apply(o,arguments),setTimeout(i,t),n=!0)}}e.exports=o(0).extendComponentView({type:"amap",render:function(e,t,o){function a(){i||o.dispatchAction({type:"amapRoam"})}function r(e){o.getZr().resize(),f.call(this,e)}var i=!0,p=e.getAMap(),s=o.getZr().painter.getViewportRoot(),c=e.coordinateSystem,f=function(t){if(!i){var n=s.parentNode.parentNode.parentNode,a=[-parseInt(n.style.left,10)||0,-parseInt(n.style.top,10)||0];s.style.left=a[0]+"px",s.style.top=a[1]+"px",c.setMapOffset(a),e.__mapOffset=a,o.dispatchAction({type:"amapRoam"})}},m=n(r,300,map);p.off("movestart",this._oldMoveHandler),p.off("zoomend",this._oldZoomEndHandler),p.off("moveend",this._oldZoomEndHandler),p.off("complete",this._oldZoomEndHandler),e.get("resizeEnable")&&p.off("resize",this._oldResizeHandler),p.on("movestart",f),p.on("zoomend",a),p.on("moveend",a),p.on("complete",a),e.get("resizeEnable")&&p.on("resize",m),this._oldMoveHandler=f,this._oldZoomEndHandler=a,this._oldResizeHandler=m,i=!1}})},function(e,t,o){o(0).registerCoordinateSystem("amap",o(1)),o(2),o(3),o(0).registerAction({type:"amapRoam",event:"amapRoam",update:"updateLayout"},function(e,t){t.eachComponent("amap",function(e){var t=e.getAMap(),o=t.getCenter();e.setCenterAndZoom([o.lng,o.lat],t.getZoom())})}),e.exports={version:"1.0.0-rc.3"}}])});
//# sourceMappingURL=echarts-amap.min.js.map